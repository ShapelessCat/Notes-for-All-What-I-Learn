#+TITLE: http4s
#+SUBTITLE: Functional Configurations for Scala
#+VERSION: v1.0 (development)
#+STARTUP: entitiespretty
#+STARTUP: indent
#+STARTUP: overview

* TODO Quick Start
* TODO Integrations
** Ember
** Backend Integrations
** Entity Integrations

* TODO Upgrading
** TODO Automated Upgrading with Scalafix
** TODO Http4s 0.21 -> 0.22 Migration Guide
** TODO Help Us Help You!

* TODO Service
** Your First Service
*** Defining Your Service
*** Returning Content in the Response
*** Returning Your Service

** Cleaning Up
*** Running Your Service as an ~App~

* TODO The https4s DSL
** Add the https4s-dsl to your build
** The Simplest Service
** Testing the Service
** Generating Responses
*** Status codes
*** Headers
*** Cookies
*** Responding with a Body
**** Simple Bodies
**** Asynchronous Responses
**** Streaming Bodies

** Matching and Extracting Requests
*** The ~->~ object
*** Path Info
*** Matching Paths
*** Handling Path Parameters
*** Handling Matrix Path Parameters
*** Handling Query Parameters
**** Flag Query Parameters
**** Optional Query Parameters
**** Optional Multiple Query Parameters
**** Missing Required Query Parameters
**** Invalid Query Parameter Handling
**** Optional Invalid Query Parameter Handling

* TODO Middleware
** Composing Services with Middleware
** Included Middleware
See [[https://http4s.org/v1/docs/server-middleware.html][Server Middleware]].

* TODO Server Middleware
** Headers
*** Caching
*** Date
*** HeaderEcho
*** ResponseTiming
*** RequestId
*** StaticHeaders

** Request rewriting
*** AutoSlash
*** DefaultHead
*** HttpMethodOverrider
*** HttpsRedirect
*** TranslateUri
*** UrlFormLifter

** Scaling and resource management
*** ConcurrentRequests
*** EntityLimiter
*** MaxActiveRequests
*** Throttle
*** Timeout

** Error handling and Logging
*** ErrorAction
*** ErrorHandling
*** Metrics
*** RequestLogger, ResponseLogger, Logger

** Advanced
*** BodyCache
*** BracketRequestResponse
*** ChunkAggregator
*** ContextMiddleware

* TODO Client Middleware
** CookieJar
** DestinationAttribute
** FollowRedirects
** Logger, ResponseLogger, RequestLogger
** GZip
** Retry
** UnixSocket

* TODO Authentication
** Built in
** Composing Authenticated Routes
** Returning an Error Response
*** With Kleisli

** Implementing authUser
*** Cookies
*** Authorization Header

* TODO CORS
** Usage
** Configuration

* TODO CSRF
* TODO GZip Compression
* TODO HTTP Strict Transport Security
** Configuration
** References

* TODO Static Files
** Getting Started
** ETags
** Inline in Route
** Serving from JARs
** Webjars

* TODO HTTP Client
** Setup
** Making Requests
*** Creating the client
*** Describing a Request
*** Running a Request

** Constructing a URI
** Middleware
*** Included Middleware
*** Metrics Middleware

** Examples
*** Send a GET request
*** Send a POST request

** Calls to a JSON API
** Body decoding / encoding

* TODO Entity handling
** Why Entity*
** Construction and Media Types
** Chaining Decoders
** Presupplied Encoders/Decoders
*** Raw Data Types
*** JSON
*** XML
*** Support for Twirl and Scalatags

* TODO Streaming
** Streaming responses from your service
** Consuming Streams with the Client

* TODO JSON handling
** Add the JSON support module(s)
*** Circe

** Sending Raw JSON
** Encoding case classes as JSON
** Receiving Raw JSON
** Decoding JSON to a case class
** Putting it all together
*** A Hello world service
*** A Hello world client

* TODO Testing
** Using client
** Conclusion
** References

* TODO URI handling
** Literals
** Building URIs
*** URI
*** URI Template

** Receiving URIs

* TODO Deployment
** Overview
** Assembled JAR
** Graal Native Image
*** Install GraalVM and Native Image plugin

** (Optional) Get or build a muslC bundle required to build a static image.
** META-INF resources for reflection
*** Build an assembled jar using GraalVM
*** Create the native image with the assembled JAR
*** Execute the native image
*** Why static?

* TODO HTTP Methods
* TODO Error Handling
** TODO For Beginners
** TODO Logging
** TODO Customizing Error Handling

* TODO Multipart and Form Handling
** UrlForm
** Multipart form
** Streaming uploads
** Scala-cli example
